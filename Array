def majority_element(nums):
    # Using a dictionary to count occurrences
    counts = {}
    n = len(nums)
    
    for num in nums:
        counts[num] = counts.get(num, 0) + 1
        if counts[num] > n // 2:
            return num

# Example usage
nums = [3, 2, 3]
print(majority_element(nums))  # Output: 3

nums2 = [2, 2, 1, 1, 1, 2, 2]
print(majority_element(nums2))  # Output: 2
